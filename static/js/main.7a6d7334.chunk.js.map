{"version":3,"sources":["models/RoomStatus.ts","shared/utility.ts","components/Room/Allocation/AllocationInfo/AllocationInfo.tsx","components/Room/Allocation/AllocationInfoBig/AllocationInfoBig.tsx","store/selectors.tsx","models/EquipmentStatus.ts","components/UI/Button/Button.tsx","components/Room/Allocation/AllocationMenu/AllocationMenu.tsx","components/Room/RoomStatusBorder/RoomStatusBorder.tsx","components/StatusBar/StatusBar.tsx","components/Room/TimeView/TimeView.tsx","components/Header/EquipmentBar/EquipmentBar.tsx","components/Header/Header.tsx","components/UI/Backdrop/Backdrop.tsx","components/UI/Popup/Popup.tsx","store/UI/UISelectors.tsx","store/Room/RoomSlice.tsx","containers/AdminPanel/AdminPanel.tsx","components/Room/RoomView/RoomView.tsx","models/Allocation.ts","store/Allocation/AllocationSlice.tsx","store/Equipment/EquipmentSlice.tsx","store/UI/UISlice.tsx","containers/SelectedRoom/SelectedRoom.tsx","containers/App/App.tsx","serviceWorker.js","models/EquipmentType.ts","models/Room.ts","store/store.tsx","models/Equipment.ts","store/start.tsx","index.tsx"],"names":["RoomStatus","formatTimeStamp","timeStamp","Date","toLocaleTimeString","hour","minute","hour12","uuidv4","replace","c","r","Math","random","toString","allocationInfo","props","console","log","react_default","a","createElement","className","from","to","by","title","Fragment","attendees","agenda","n","EquipmentStatus","Button","buttonElement","type","concat","btnClassName","onClick","aria-label","iconId","xlinkHref","label","allocationMenu","meetingButtons","confirmCurrentAllocationTag","confirmNextAllocationTag","id","currentAllocation","roomStatus","awaiting","UI_Button_Button","onConfirmMeetingClick","onExtendMeetingClick","onFinishEarlyClick","nextAllocation","onAddMeetingClick","roomId","roomStatusBorder","classNames","push","join","children","StatusBar","onAdminClicked","timeView","time","equipmentBar","equipment","map","e","key","onChangeStatusClick","toLowerCase","status","mapEquipmentToButton","Header","room","name","EquipmentBar_EquipmentBar","Backdrop","Popup","classes","open","UI_Backdrop_Backdrop","onCloseClick","getDate","createSelector","getSelectedRoomId","getAdminPanelOpen","getSelectedRoom","rooms","entity","getSelectedRoomAllocations","allocation","Object","values","filter","getSelectedRoomCurrentAllocations","date","allocations","getSelectedRoomFutureAllocations","getSelectedRoomFutureAllocationsSorted","sort","b","getSelectedRoomNextAllocation","slice","getSelectedRoomCurrentAllocation","isSelectedRoomOccupied","length","getSelectedRoomEquipment","roomSlice","createSlice","initialState","ids","reducers","addRoom","state","action","payload","changeRoomName","AdminPanel","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","selectedRoom","roomName","event","preventDefault","onSettingsSaved","setState","target","value","_this2","onSubmit","submitSettings","placeholder","onChange","inputChangedHandler","Component","connect","selectors","dispatch","newName","actions","roomView","currentAllocationTag","nextAllocationTag","AllocationInfoBig_AllocationInfoBig","AllocationInfo_AllocationInfo","components_Header_Header","assign","RoomStatusBorder_RoomStatusBorder","TimeView_TimeView","AllocationMenu_AllocationMenu","components_StatusBar_StatusBar","onAdminClick","UI_Popup_Popup","adminPanelOpen","onPopupCloseClick","containers_AdminPanel_AdminPanel","Allocation","confirmed","allocationSlice","addAllocation","finishEarly","now","extendMeeting","amount","confirmMeeting","equipmentSlice","addEquipment","toConsumableArray","setStatus","eq","changeStatus","newStatus","Available","Broken","NotAvailable","uiSlice","selectedRoomId","setSelectedRoomId","setTime","showAdminPanel","hideAdminPanel","SelectedRoom","ownProps","threshold","occupied","free","objectSpread","RoomView","App","SelectedRoom_SelectedRoom","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","EquipmentType","Room","capacity","rootReducer","combineReducers","ui","reducer","store","configureStore","Equipment","subscribe","getState","usedRoom","Projector","Skype","WhiteBoard","roomName1","roomAllocations","roomEquipment","roomOccupied","setInterval","start","ReactDOM","render","es","containers_App_App","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.7a6d7334.chunk.js","sourcesContent":["export enum RoomStatus {\n  occupied = \"occupied\",\n  free = \"free\",\n  awaiting = \"awaiting\",\n}","export const formatTimeStamp = (timeStamp: number): string => {\n  return new Date(timeStamp).toLocaleTimeString(\"en-US\", {hour: \"2-digit\", minute: \"2-digit\", hour12: false});\n};\n\nexport const uuidv4 = () => {\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, (c) => {\n    // tslint:disable-next-line:no-bitwise\n    const r = Math.random() * 16 | 0;\n    // tslint:disable-next-line:no-bitwise\n    const v = c === \"x\" ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n};\n","import React from \"react\";\nimport { formatTimeStamp } from \"../../../../shared/utility\";\nimport \"./AllocationInfo.scss\";\n\nconst allocationInfo = (props: any) => {\n  console.log(\"allocationInfo: \", props);\n\n  return (\n    <div className=\"AllocationInfo\">Next Meeting:\n      <div>{formatTimeStamp(props.from)} - {formatTimeStamp(props.to)}</div>\n      <div>{props.by}</div>\n      <div>{props.title}</div>\n    </div>\n  );\n};\n\nexport default allocationInfo;\n","import React from \"react\";\nimport { formatTimeStamp } from \"../../../../shared/utility\";\nimport \"./AllocationInfoBig.scss\";\n\nconst allocationInfo = (props: any) => {\n  return (\n    <>\n      <div className=\"AllocationInfoBig\">Current Meeting:\n        <div>{formatTimeStamp(props.from)} - {formatTimeStamp(props.to)}</div>\n        <div>{props.by}</div>\n        <div>{props.title}</div>\n        {props.attendees ? <div>Attendees: {props.attendees}</div> : null}\n        {props.agenda ? <div>Agenda: {props.agenda}</div> : null}\n      </div>\n    </>\n  );\n};\n\nexport default allocationInfo;\n","import { createSelector } from \"redux-starter-kit\";\nimport Allocation from \"../models/Allocation\";\nimport { Equipment } from \"../models/Equipment\";\nimport Room from \"../models/Room\";\nimport { RoomStatus } from \"../models/RoomStatus\";\nimport { getRoomAllocations } from \"./Allocation/AllocationSelectors\";\nimport { getDate, getSelectedRoomId } from \"./UI/UISelectors\";\n\n// General\nexport const isRoomOccupied = (name: string) => createSelector(\n  [getDate, getRoomAllocations(name)],\n  (date, allocations) => allocations.filter((a: Allocation) => a.from <= date && a.to >= date).length > 0,\n);\n\n// Selected Room\nexport const getSelectedRoom = createSelector(\n  [getSelectedRoomId, \"room\"],\n  (roomId, rooms) => rooms.entity[roomId],\n);\n\n// [TODO] rewrite\nexport const getSelectedRoomAllocations = createSelector(\n  [getSelectedRoomId, \"allocation\"],\n  (roomId, allocation) => {\n    const allocations: Allocation[] = Object.values(allocation.entity);\n    return allocations.filter((a: Allocation) => a.roomId === roomId);\n  },\n);\n// export const getSelectedRoomAllocations = createSelector(\n//   [getSelectedRoomId],\n//   (roomId) => getRoomAllocations(roomId)\n// );\n\nexport const getSelectedRoomCurrentAllocations = createSelector(\n  [getDate, getSelectedRoomAllocations],\n  (date, allocations) => allocations.filter((a: Allocation) => a.from <= date && a.to >= date),\n);\n\nexport const getSelectedRoomFutureAllocations = createSelector(\n  [getDate, getSelectedRoomAllocations],\n  (date, allocations) => allocations.filter((a: Allocation) => a.from >= date),\n);\n\nexport const getSelectedRoomFutureAllocationsSorted = createSelector(\n  [getSelectedRoomFutureAllocations],\n  (allocations) => allocations.sort((a: Allocation, b: Allocation) => a.from - b.from),\n);\n\nexport const getSelectedRoomFutureNAllocations = (n: number) => createSelector(\n  [getSelectedRoomFutureAllocationsSorted],\n  (allocations) => allocations.slice(0, n),\n);\n\nexport const getSelectedRoomNextAllocation = createSelector(\n  [getSelectedRoomFutureNAllocations(1)],\n  (allocations) => allocations[0],\n);\n\nexport const getSelectedRoomCurrentAllocation = createSelector(\n  [getSelectedRoomCurrentAllocations],\n  (allocations) => allocations[0],\n);\n\nexport const isSelectedRoomOccupied = createSelector(\n  [getSelectedRoomCurrentAllocations],\n  (allocations) => {\n    return allocations.length > 0;\n  },\n);\n\nexport const getSelectedRoomStatus = (threshold: number) => createSelector(\n  [getSelectedRoomCurrentAllocation, getSelectedRoomNextAllocation, getDate],\n  (currentAllocation: Allocation, nextAllocation: Allocation, time: number) => {\n    if (currentAllocation) {\n      if (currentAllocation.confirmed) {\n        return RoomStatus.occupied;\n      } else {\n        return RoomStatus.awaiting;\n      }\n    } else if (nextAllocation) {\n      if (nextAllocation.from - time < threshold) {\n        if (nextAllocation.confirmed) {\n          return RoomStatus.occupied;\n        } else {\n          return RoomStatus.awaiting;\n        }\n      }\n    }\n\n    return RoomStatus.free;\n  },\n);\n\nexport const getSelectedRoomEquipment = createSelector(\n  [getSelectedRoomId, \"equipment\"],\n  (roomId, equipment) => equipment.filter((e: Equipment) => e.roomId === roomId),\n);\n","export enum EquipmentStatus {\n  Available = \"Available\",\n  NotAvailable = \"NotAvailable\",\n  Broken = \"Broken\",\n}\n","import React from \"react\";\n\nconst Button = (props: any) => {\n  let buttonElement = <button>Not configured button</button>;\n\n  switch (props.type) {\n    case \"icon\":\n      buttonElement = (\n        <button className={`btn ${props.btnClassName}`} onClick={props.onClick} aria-label={props.iconId}>\n          <svg className={`icon`}>\n            <use xlinkHref={`symbol-defs.svg#${props.iconId}`} />\n          </svg>\n        </button>\n      );\n      break;\n      case \"icon-text\":\n      buttonElement = (\n        <button className=\"btn btn_flat\" onClick={props.onClick} aria-label={props.label}>\n          <svg className=\"icon\">\n            <use xlinkHref={`symbol-defs.svg#${props.iconId}`} />\n          </svg>\n          <span>{props.label}</span>\n        </button>\n      );\n      break;\n  }\n  \n  return buttonElement;\n};\n\nexport default Button;\n","import React from \"react\";\nimport { RoomStatus } from \"../../../../models/RoomStatus\";\nimport \"./AllocationMenu.scss\";\nimport Button from \"../../../UI/Button/Button\";\n\nconst allocationMenu = (props: any) => {\n  console.log(\"Allocation menu:\", props.id);\n  console.log(\"Props: \", props);\n  let meetingButtons;\n\n  if (props.currentAllocation) {\n    let confirmCurrentAllocationTag;\n\n    if (props.roomStatus === RoomStatus.awaiting) {\n      confirmCurrentAllocationTag = (\n        <Button\n          type=\"icon-text\"\n          onClick={() => props.onConfirmMeetingClick(props.currentAllocation.id)}\n          iconId=\"icon-calendar-check-o\"\n          label=\"Confirm\"\n        />\n      );\n    }\n\n    meetingButtons = (\n      <>\n        <Button\n          type=\"icon-text\"\n          onClick={() => props.onExtendMeetingClick(props.currentAllocation.id, 60000)}\n          iconId=\"icon-calendar-plus-o\"\n          label=\"Extend\"\n        />\n        <Button\n          type=\"icon-text\"\n          onClick={() => props.onFinishEarlyClick(props.currentAllocation.id)}\n          iconId=\"icon-calendar-times-o\"\n          label=\"Finish\"\n        />\n        {confirmCurrentAllocationTag}\n      </>\n    );\n  } else {\n    let confirmNextAllocationTag;\n\n    if (props.roomStatus === RoomStatus.awaiting) {\n      confirmNextAllocationTag = (\n        <Button\n          type=\"icon-text\"\n          onClick={() => props.onConfirmMeetingClick(props.nextAllocation.id)}\n          iconId=\"icon-calendar-check-o\"\n          label=\"Confirm\"\n        />\n      );\n    }\n\n    meetingButtons = (\n      <>\n        <Button\n          type=\"icon-text\"\n          onClick={() => props.onAddMeetingClick(props.roomId)}\n          iconId=\"icon-calendar-o\"\n          label=\"Book now\"\n        />\n        {confirmNextAllocationTag}\n      </>\n    );\n  }\n\n  return (\n    <div className={`AllocationMenu ${props.roomStatus}`}>\n      {meetingButtons}\n    </div>\n  );\n};\n\nexport default allocationMenu;\n","import React from \"react\";\n\nimport \"./RoomStatusBorder.scss\";\n\nconst roomStatusBorder = (props: any) => {\n  const classNames = [\"RoomStatusBorder\"];\n  classNames.push(props.roomStatus);\n  return <div className={classNames.join(\" \")}>{props.children}</div>;\n};\n\nexport default roomStatusBorder;\n","import React from \"react\";\nimport \"./StatusBar.scss\";\nimport Button from \"../UI/Button/Button\";\n\nconst StatusBar = (props: any) => {\n  return (\n    <div className=\"StatusBar\">\n      <div>This is StatusBar</div>\n      <Button type=\"icon-text\" onClick={props.onAdminClicked} iconId=\"icon-settings\" label=\"Admin\" />\n    </div>\n  );\n};\n\nexport default StatusBar;\n","import React from \"react\";\nimport { formatTimeStamp } from \"../../../shared/utility\";\nimport \"./TimeView.scss\";\n\nconst timeView = (props: any) => {\n  return (\n    <div className=\"TimeView\">{formatTimeStamp(props.time)}</div>\n  );\n};\n\nexport default timeView;\n","import React from \"react\";\nimport { Equipment } from \"../../../models/Equipment\";\nimport \"./EquipmentBar.scss\";\nimport Button from \"../../UI/Button/Button\";\n\nconst equipmentBar = (props: { equipment: Equipment[], onChangeStatusClick: (e: Equipment) => void }) => {\n  const mapEquipmentToButton = (e: Equipment) => {\n    return <Button\n      key={e.type}\n      type=\"icon\"\n      onClick={() => props.onChangeStatusClick(e)}\n      iconId={`icon-${e.type.toLowerCase()}`}\n      btnClassName={`btn_${e.status.toLowerCase()}`}\n    />;\n  };\n\n  return (\n    <div className=\"EquipmentBar\">\n      {props.equipment.map((e: Equipment) => mapEquipmentToButton(e))}\n    </div>\n  );\n};\n\nexport default equipmentBar;\n","import React from \"react\";\nimport EquipmentBar from \"./EquipmentBar/EquipmentBar\";\nimport \"./Header.scss\";\n\nconst Header = (props: any) => {\n  return (\n    <div className=\"Header\">\n      <div>{props.room.name}</div>\n      <EquipmentBar equipment={props.equipment} onChangeStatusClick={props.onChangeStatusClick}/>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\n\nimport \"./Backdrop.scss\";\n\nconst Backdrop = () => {\n  return (\n    <div className=\"Backdrop\"/>\n  )\n}\n\nexport default Backdrop;\n","import React from \"react\";\nimport \"./Popup.scss\";\nimport Backdrop from \"../Backdrop/Backdrop\";\nimport Button from \"../Button/Button\";\n\nconst Popup = (props: any) => {\n  const classes = [\"Popup\"];\n  if (props.open) {\n    classes.push(\"open\");\n  }\n\n  return (\n    <div className={classes.join(\" \")}>\n      <Backdrop/>\n      <div className=\"content\">\n        <Button\n          type=\"icon-text\"\n          onClick={props.onCloseClick}\n          iconId=\"icon-close\"\n          label=\"Close\"\n        />\n        {props.children}\n      </div>\n    </div>\n  )\n}\n\nexport default Popup;\n","import { createSelector } from \"redux-starter-kit\";\n\nexport const getDate = createSelector (\n  [\"ui.time\"],\n);\n\nexport const getSelectedRoomId = createSelector(\n  [\"ui.selectedRoomId\"],\n);\n\nexport const getAdminPanelOpen = createSelector(\n  [\"ui.adminPanelOpen\"],\n);\n","import { createSlice } from \"redux-starter-kit\";\nimport Room from \"../../models/Room\";\n\n// ROOMS ////////////////////////\nconst roomSlice = createSlice({\n  slice: \"room\",\n  initialState: {\n    entity: {} as {[id: string]: Room },\n    ids: [] as string[],\n  },\n  reducers: {\n    addRoom: (state, action) => {\n      state.entity[action.payload.id] = action.payload;\n      state.ids.push(action.payload.id);\n    },\n    changeRoomName: (state, action) => {\n      state.entity[action.payload.id].name = action.payload.name;\n    }\n  },\n});\n\nexport default roomSlice;\n","import React, { Component, FormEvent, ChangeEvent } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as selectors from \"../../store/selectors\";\nimport roomSlice from \"../../store/Room/RoomSlice\";\nimport Room from \"../../models/Room\";\nimport Button from \"../../components/UI/Button/Button\";\n\ninterface IAdminPanelProps {\n  onSettingsSaved: (roomId: string, newName: string) => void;\n}\n\ninterface IAdminPanelState {\n  roomName: string;\n}\n\nclass AdminPanel extends Component<IAdminPanelProps, IAdminPanelState> {\n  private selectedRoom: Room;\n\n  constructor(props: any) {\n    super(props)\n    console.log(\"!!props\", props);\n    this.selectedRoom = props.selectedRoom;\n    this.state = {\n      roomName: this.selectedRoom.name,\n    };\n}\n\n  submitSettings(event: FormEvent<HTMLFormElement>) {\n    event.preventDefault();\n    console.log(event);\n\n    this.props.onSettingsSaved(this.selectedRoom.id, this.state.roomName);\n  };\n\n  inputChangedHandler(event: ChangeEvent<HTMLInputElement>) {\n    console.log(event);\n    this.setState({roomName: event.target.value});\n  }\n\n  render() {\n    return (\n      <div>\n        <h3>This is admin panel</h3>\n        <form onSubmit={(e) => this.submitSettings(e)}>\n          <div>\n            <label>Room name</label>\n            <input\n              type=\"text\"\n              placeholder=\"Room Name\" \n              value={this.state.roomName}\n              onChange={(e) => this.inputChangedHandler(e)}\n            />\n          </div>\n          <Button\n            type=\"icon-text\"\n            iconId=\"icon-save\"\n            label=\"Save Settings\"\n          />\n        </form>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: any) => {\n  const selectedRoom = selectors.getSelectedRoom(state);\n\n  return {\n    selectedRoom,\n  }\n};\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    onSettingsSaved: (roomId: string, newName: string) => \n      dispatch(roomSlice.actions.changeRoomName({id: roomId, name: newName}))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(AdminPanel);\n","import React from \"react\";\nimport AllocationInfo from \"../Allocation/AllocationInfo/AllocationInfo\";\nimport AllocationInfoBig from \"../Allocation/AllocationInfoBig/AllocationInfoBig\";\nimport AllocationMenu from \"../Allocation/AllocationMenu/AllocationMenu\";\nimport RoomStatusBorder from \"../RoomStatusBorder/RoomStatusBorder\";\nimport StatusBar from \"../../StatusBar/StatusBar\";\nimport TimeView from \"../TimeView/TimeView\";\nimport \"./RoomView.scss\";\nimport Header from \"../../Header/Header\";\nimport Popup from \"../../UI/Popup/Popup\";\nimport AdminPanel from \"../../../containers/AdminPanel/AdminPanel\";\n\nconst roomView = (props: any) => {\n  console.log(\"roomView: \", props);\n  let currentAllocationTag;\n  let nextAllocationTag;\n\n  if (props.currentAllocation) {\n    currentAllocationTag =\n    <AllocationInfoBig\n      {...props.currentAllocation}\n    />;\n  }\n\n  if (props.nextAllocation) {\n    nextAllocationTag = <AllocationInfo {...props.nextAllocation}/>;\n  }\n\n  return (\n    <div className=\"RoomView\">\n      <Header time={props.time} {...props}/>\n      <RoomStatusBorder roomStatus={props.roomStatus}>\n        <TimeView time={props.time} />\n        <div className=\"Separator\"/>\n        <div className=\"RightSection\">\n          {currentAllocationTag}\n          {nextAllocationTag}\n          <AllocationMenu\n            currentAllocation={props.currentAllocation}\n            nextAllocation={props.nextAllocation}\n            roomStatus={props.roomStatus}\n            roomId={props.room.id}\n            onFinishEarlyClick={props.onFinishEarlyClick}\n            onExtendMeetingClick={props.onExtendMeetingClick}\n            onConfirmMeetingClick={props.onConfirmMeetingClick}\n            onAddMeetingClick={props.onAddMeetingClick}\n          />\n        </div>\n      </RoomStatusBorder>\n      <StatusBar onAdminClicked={props.onAdminClick}/>\n      <Popup open={props.adminPanelOpen} onCloseClick={props.onPopupCloseClick}>\n        <AdminPanel></AdminPanel>\n      </Popup>\n    </div>\n  );\n};\n\nexport default roomView;\n","import { uuidv4 } from \"../shared/utility\";\n\nexport default class Allocation {\n  public id: string;\n  public confirmed = false;\n  public by?: string;\n  public attendees?: number;\n  public agenda?: string;\n\n  constructor(public title: string, public roomId: string, public from: number, public to: number) {\n    this.id = uuidv4();\n  }\n}\n","import { createSlice } from \"redux-starter-kit\";\nimport Allocation from \"../../models/Allocation\";\n\n// ALLOCATIONS ////////////////////////\nconst allocationSlice = createSlice({\n  slice: \"allocation\",\n  initialState: {\n    entity: {} as {[id: string]: Allocation },\n    ids: [] as string[],\n  },\n  reducers: {\n    addAllocation: (state, action) => {\n      state.entity[action.payload.id] = action.payload;\n      state.ids.push(action.payload.id);\n    },\n    finishEarly: (state, action) => {\n      state.entity[action.payload].to = Date.now() - 60000;\n    },\n    extendMeeting: (state, action) => {\n      state.entity[action.payload.id].to += action.payload.amount;\n      state.entity[action.payload.id].confirmed = true;\n    },\n    confirmMeeting: (state, action) => {\n      state.entity[action.payload.id].confirmed = true;\n      state.entity[action.payload.id].from = Date.now() - 60000;\n    },\n  },\n});\n\nexport default allocationSlice;\n","import { createSlice } from \"redux-starter-kit\";\nimport { Equipment } from \"../../models/Equipment\";\nimport { EquipmentStatus } from \"../../models/EquipmentStatus\";\n\n// EQUIPMENT ////////////////////////\n// [TODO] add ids\nconst equipmentSlice = createSlice({\n  slice: \"equipment\",\n  initialState: [],\n  reducers: {\n    addEquipment: (state, action) => [...state, action.payload] as never[],\n    setStatus: (state, action) => {\n      const equipment: Equipment =\n        state.filter((eq: Equipment) => eq.roomId === action.payload.roomId && eq.type === action.payload.type)[0];\n      equipment.status = action.payload.status;\n      return state;\n    },\n    changeStatus: (state, action) => {\n      const equipment: Equipment =\n        state.filter((eq: Equipment) => eq.roomId === action.payload.roomId && eq.type === action.payload.type)[0];\n      let newStatus: EquipmentStatus = EquipmentStatus.Available;\n      switch (equipment.status) {\n        case EquipmentStatus.Available:\n          newStatus = EquipmentStatus.Broken;\n          break;\n        case EquipmentStatus.Broken:\n          newStatus = EquipmentStatus.NotAvailable;\n          break;\n        case EquipmentStatus.NotAvailable:\n          newStatus = EquipmentStatus.Available;\n          break;\n      }\n      equipment.status = newStatus;\n      return state;\n    },\n  },\n});\n\nexport default equipmentSlice;\n","import { createSlice } from \"redux-starter-kit\";\n\n// UI ////////////////////////\nconst uiSlice = createSlice({\n  slice: \"ui\",\n  initialState: {\n    selectedRoomId: \"\",\n    time: Date.now(),\n    adminPanelOpen: false,\n  },\n  reducers: {\n    setSelectedRoomId: (state, action) => {\n      state.selectedRoomId = action.payload;\n      return state;\n    },\n    setTime: (state, action) => {\n      state.time = action.payload;\n      return state;\n    },\n    showAdminPanel: (state) => {\n      state.adminPanelOpen = true;\n      return state;\n    },\n    hideAdminPanel: (state) => {\n      state.adminPanelOpen = false;\n      return state;\n    },\n  },\n});\n\nexport default uiSlice;\n","import { connect } from \"react-redux\";\nimport RoomView from \"../../components/Room/RoomView/RoomView\";\nimport Allocation from \"../../models/Allocation\";\nimport { Equipment } from \"../../models/Equipment\";\nimport allocationSlice from \"../../store/Allocation/AllocationSlice\";\nimport equipmentSlice from \"../../store/Equipment/EquipmentSlice\";\nimport * as selectors from \"../../store/selectors\";\nimport { getDate, getAdminPanelOpen } from \"../../store/UI/UISelectors\";\nimport uiSlice from \"../../store/UI/UISlice\";\n\nconst mapStateToProps = (state: any, ownProps: any) => {\n  console.log(\"mapState: \", state);\n  const time = getDate(state);\n  const adminPanelOpen = getAdminPanelOpen(state);\n  const room = selectors.getSelectedRoom(state);\n  const equipment = selectors.getSelectedRoomEquipment(state);\n\n  // 2 min\n  const roomStatus = selectors.getSelectedRoomStatus(120000)(state);\n\n  // [TODO] If there are more then two allocations it should be marked in allocationinfobig\n  const currentAllocation = selectors.getSelectedRoomCurrentAllocations(state)[0];\n  const nextAllocation = selectors.getSelectedRoomNextAllocation(state);\n\n  return {\n    currentAllocation,\n    equipment,\n    nextAllocation,\n    room,\n    roomStatus,\n    time,\n    adminPanelOpen,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    onAdminClick: () => {\n      dispatch(uiSlice.actions.showAdminPanel());\n    },\n    onPopupCloseClick: () => {\n      dispatch(uiSlice.actions.hideAdminPanel());\n    },\n    onAddMeetingClick: (roomId: string) => {\n      dispatch(allocationSlice.actions.addAllocation({\n        ...new Allocation(\"Ad hoc meeting\", roomId, Date.now() - 60000, Date.now() + 50000), confirmed: true}));\n    },\n    onChangeStatusClick: (e: Equipment) => {\n      dispatch(equipmentSlice.actions.changeStatus(e));\n      console.log(\"TODO change status. Ids need to be added to equipment\");\n    },\n    onConfirmMeetingClick: (id: string) => {\n      dispatch(allocationSlice.actions.confirmMeeting({id}));\n    },\n    onExtendMeetingClick: (id: string, amount: number) => {\n      dispatch(allocationSlice.actions.extendMeeting({id, amount}));\n    },\n    onFinishEarlyClick: (id: string) => {\n      dispatch(allocationSlice.actions.finishEarly(id));\n    },\n  };\n};\n\nconst SelectedRoom = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(RoomView);\n\nexport default SelectedRoom;\n","import React, { Component } from \"react\";\n\nimport SelectedRoom from \"../SelectedRoom/SelectedRoom\";\nimport \"./App.scss\";\n\nclass App extends Component {\n  public render() {\n    console.log(\"hello world\", \"test\");\n    return (\n      <div className=\"App\">\n        <SelectedRoom/>\n      </div>\n    );\n  }\n}\n\nexport default (App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit http://bit.ly/CRA-PWA\",\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See http://bit.ly/CRA-PWA.\",\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\",\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export enum EquipmentType {\n  Projector = \"display\",\n  WhiteBoard = \"users\",\n  Skype = \"skype\",\n}\n","import { uuidv4 } from \"../shared/utility\";\n\nexport default class Room {\n  public id: string;\n\n  public capacity?: number;\n  public location?: string;\n  public equipment?: any[];\n\n  // this property is identifier of the object and should be unique\n  constructor(public name: string) {\n    this.id = uuidv4();\n  }\n}\n","import { combineReducers } from \"redux\";\nimport { configureStore } from \"redux-starter-kit\";\nimport allocationSlice from \"./Allocation/AllocationSlice\";\nimport equipmentSlice from \"./Equipment/EquipmentSlice\";\nimport roomSlice from \"./Room/RoomSlice\";\nimport uiSlice from \"./UI/UISlice\";\n\n///////////////////////////////////////////////////////////////\n// Store Config\n///////////////////////////////////////////////////////////////\n\nconst rootReducer = combineReducers({\n  ui: uiSlice.reducer,\n  room: roomSlice.reducer,\n  allocation: allocationSlice.reducer,\n  equipment: equipmentSlice.reducer,\n});\n\nconst store = configureStore({ reducer: rootReducer });\n\nexport default store;\n\n///////////////////////////////////////////////////////////////\n// Selectors\n///////////////////////////////////////////////////////////////\n\n// DateTime testing\n// const getDateTime = minuteInterval => {\n//   const coeff = 1000 * 60 * minuteInterval\n//   const now = new Date()\n//   return new Date(Math.floor(now.getTime() / coeff) * coeff)\n// }\n\n// const dateEqualSelector = createSelectorCreator(\n//   defaultMemoize,\n//   (a,b) => {\n//     return a.getTime() === b.getTime()\n//   }\n// )\n// const intervalSelector = () => getDateTime(1)\n\n// export const selectDateTime = dateEqualSelector(\n//   intervalSelector,\n//   (interval) => interval\n// )\n\n// export const isSelectedRoomOccupied2 = createSelector(\n//   [selectDateTime, getSelectedRoomId, 'allocation'],\n//   (date, roomId, allocation) => {\n//     console.log('isSelectedRoomOccupied2:', date.getTime());\n//     return allocation.filter(a => a.roomName === roomId).filter(a => a.from <= date && a.to >= date).length > 0;\n//   }\n// )\n","import { EquipmentStatus } from \"./EquipmentStatus\";\nimport { EquipmentType } from \"./EquipmentType\";\n\nexport class Equipment {\n  constructor(public roomId: string, public type: EquipmentType, public status: EquipmentStatus) {}\n}\n","import Allocation from \"../models/Allocation\";\nimport Room from \"../models/Room\";\nimport store from \"./store\";\n\nimport { Equipment } from \"../models/Equipment\";\nimport { EquipmentStatus } from \"../models/EquipmentStatus\";\nimport { EquipmentType } from \"../models/EquipmentType\";\nimport allocationSlice from \"./Allocation/AllocationSlice\";\nimport equipmentSlice from \"./Equipment/EquipmentSlice\";\nimport roomSlice from \"./Room/RoomSlice\";\nimport { getSelectedRoomAllocations, getSelectedRoomCurrentAllocations,\n   getSelectedRoomEquipment, getSelectedRoomNextAllocation, isSelectedRoomOccupied } from \"./selectors\";\nimport { getSelectedRoomId } from \"./UI/UISelectors\";\nimport uiSlice from \"./UI/UISlice\";\n\n///////////////////////////////////////////////////////////////\n// Starting init\n///////////////////////////////////////////////////////////////\nconst start = () => {\n  console.log(\"hello world\");\n  store.subscribe(() => {\n    console.log(store.getState());\n  });\n\n  const usedRoom = new Room(\"Supernova\");\n  store.dispatch(roomSlice.actions.addRoom({...usedRoom}));\n  store.dispatch(roomSlice.actions.addRoom({...new Room(\"Room 2\")}));\n\n  store.dispatch(uiSlice.actions.setSelectedRoomId(usedRoom.id));\n\n  // store.dispatch(allocationSlice.actions.addAllocation(\n  //   {...new Allocation(\"Test allocation 1a\", usedRoom.id, Date.now() - 1200000, Date.now() - 1200000)}));\n  // store.dispatch(allocationSlice.actions.addAllocation(\n  //   {...new Allocation(\"Test allocation 1b\", usedRoom.id, Date.now() - 1200000, Date.now() - 1200000)}));\n  // store.dispatch(allocationSlice.actions.addAllocation(\n  //   {...new Allocation(\"Test allocation Current 1c\", usedRoom.id, Date.now() - 120000 , Date.now() + 50000)}));\n  // store.dispatch(allocationSlice.actions.addAllocation(\n  //   {...new Allocation(\"Test allocation Next 1d\", usedRoom.id, Date.now() + 110000, Date.now() + 480000)}));\n  // store.dispatch(allocationSlice.actions.addAllocation(\n  //   {...new Allocation(\"Test allocation 1e\", usedRoom.id, Date.now() + 1000000, Date.now() + 1200000)}));\n\n  store.dispatch(allocationSlice.actions.addAllocation(\n    {...new Allocation(\"Test allocation 2a\", \"Room 2\", Date.now() - 1200000, Date.now() - 1200000)}));\n\n  store.dispatch(equipmentSlice.actions.addEquipment(\n    {...new Equipment(usedRoom.id, EquipmentType.Projector, EquipmentStatus.Available)}));\n  store.dispatch(equipmentSlice.actions.addEquipment(\n    {...new Equipment(usedRoom.id, EquipmentType.Skype, EquipmentStatus.Available)}));\n  store.dispatch(equipmentSlice.actions.addEquipment(\n    {...new Equipment(usedRoom.id, EquipmentType.WhiteBoard, EquipmentStatus.Available)}));\n\n  // store.dispatch(equipmentSlice.actions.changeStatus(\n  //   {...new Equipment(usedRoom.id, EquipmentType.WhiteBoard, EquipmentStatus.Available)}));\n\n  const roomName1 = getSelectedRoomId(store.getState());\n  const roomAllocations = getSelectedRoomAllocations(store.getState());\n  const roomEquipment = getSelectedRoomEquipment(store.getState());\n\n  const roomOccupied = isSelectedRoomOccupied(store.getState());\n  const currentAllocation = getSelectedRoomCurrentAllocations(store.getState())[0];\n  const nextAllocation = getSelectedRoomNextAllocation(store.getState());\n\n  // const timeInterval = selectDateTime();\n  // console.log('Time: ', selectDateTime(store.getState()));\n  // console.log('Occupied2: ', roomOccupied2);\n  // const roomOccupied2 = isSelectedRoomOccupied2(store.getState());\n  console.log(\"Name: \", roomName1);\n  console.log(\"Allocations: \", roomAllocations);\n  console.log(\"Occupied: \", roomOccupied);\n  console.log(\"Equipment: \", roomEquipment);\n  console.log(\"Current allocation: \", currentAllocation);\n  console.log(\"Next allocation: \", nextAllocation);\n\n  setInterval(() => {\n    console.log(\"Interval\");\n    // console.log('Time: ', selectDateTime(store.getState()));\n    store.dispatch(uiSlice.actions.setTime(Date.now()));\n  }, 1000 * 60);\n};\n\nexport default start;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport \"./Assets/symbol-defs.svg\";\nimport App from \"./containers/App/App\";\nimport \"./styles/index.scss\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport start from \"./store/start\";\nimport store from \"./store/store\";\n\nstart();\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}