(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n.p+"static/media/symbol-defs.119ddbe0.svg"},27:function(e,t,n){e.exports=n(70)},36:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){},62:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a,o=n(0),i=n.n(o),r=n(23),c=n.n(r),l=n(6),u=n(3),s=n(10),d=n(13),m=n(11),f=n(14),p=n(2),v=function(e){return new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})},g=function(e){return Math.ceil(e/1e3/60)},h=function(e){return e-e%6e4},y=function(e,t){return Object(p.a)({},e,t)},b=function(e,t){var n=!0;if(!t)return!0;if(t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.maxLength&&n),t.isEmail){n=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&n}if(t.isNumeric){n=/^\d+$/.test(e)&&n}return n},E=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},C=(n(36),function(e){console.log("allocationInfo: ",e);var t=g(e.from-e.time);return i.a.createElement("div",{className:"AllocationInfo"},i.a.createElement("div",null,"Next Meeting"),i.a.createElement("div",null,i.a.createElement("h4",null,e.title)),i.a.createElement("div",null,e.by,v(e.from)," - ",v(e.to)),i.a.createElement("div",null,"Starts in: ",t," min"))}),k=(n(38),function(e){var t=g(e.to-e.time),n=g(e.to-e.from),a=n-t;Math.round(a/n*100);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"AllocationInfoBig"},i.a.createElement("div",null,"In Progress"),i.a.createElement("div",null,i.a.createElement("h2",null,e.title)),i.a.createElement("div",null,i.a.createElement("h3",null,e.by),i.a.createElement("span",null,v(e.from)," - ",v(e.to))),i.a.createElement("div",null,"Ends In: ",t," min"),e.attendees?i.a.createElement("div",null,e.attendees," attendees"):null,e.agenda?i.a.createElement("div",null,"Agenda: ",e.agenda):null))});!function(e){e.occupied="occupied",e.free="free",e.awaiting="awaiting"}(a||(a={}));n(40);var x,O,j=n(19),S=n.n(j),I=function(e){var t=i.a.createElement("button",null,"Not configured button");switch(e.type){case"icon":t=i.a.createElement("button",{className:"btn ".concat(e.btnClassName),onClick:e.onClick,"aria-label":e.iconId},i.a.createElement("svg",{className:"icon"},i.a.createElement("use",{xlinkHref:"".concat(S.a,"#").concat(e.iconId)})));break;case"icon-text":t=i.a.createElement("button",{className:"btn btn_flat",onClick:e.onClick,"aria-label":e.label},i.a.createElement("svg",{className:"icon"},i.a.createElement("use",{xlinkHref:"".concat(S.a,"#").concat(e.iconId)})),i.a.createElement("span",null,e.label));break;case"text":t=i.a.createElement("button",{type:"button",className:"btn btn_flat",onClick:e.onClick,"aria-label":e.label},i.a.createElement("span",null,e.label))}return t},A=function(e){var t,n,o;console.log("Allocation menu:",e.id),console.log("Props: ",e),e.currentAllocation?(e.roomStatus===a.awaiting&&(n=i.a.createElement(I,{type:"icon-text",onClick:function(){return e.onConfirmMeetingClick(e.currentAllocation.id)},iconId:"icon-calendar-check-o",label:"Confirm"})),t=i.a.createElement(i.a.Fragment,null,i.a.createElement(I,{type:"icon-text",onClick:function(){return e.onExtendMeetingClick(e.currentAllocation.id,e.time,9e5)},iconId:"icon-calendar-plus-o",label:"Extend"}),i.a.createElement(I,{type:"icon-text",onClick:function(){return e.onFinishEarlyClick(e.currentAllocation.id,e.time)},iconId:"icon-calendar-times-o",label:"Finish"}),n)):(e.roomStatus===a.awaiting&&(o=i.a.createElement(I,{type:"icon-text",onClick:function(){return e.onConfirmMeetingClick(e.nextAllocation.id)},iconId:"icon-calendar-check-o",label:"Confirm"})),t=i.a.createElement(i.a.Fragment,null,i.a.createElement(I,{type:"icon-text",onClick:function(){return e.onAddMeetingClick(e.roomId,e.time)},iconId:"icon-calendar-o",label:"Book now"}),o));return i.a.createElement("div",{className:"AllocationMenu ".concat(e.roomStatus)},t)},w=(n(42),function(e){var t=["RoomStatusBorder"];return t.push(e.roomStatus),i.a.createElement("div",{className:t.join(" ")},e.children)}),N=(n(44),function(e){return i.a.createElement("div",{className:"StatusBar"},i.a.createElement(I,{type:"icon-text",onClick:e.onAdminClicked,iconId:"icon-settings",label:"Admin"}))}),q=(n(46),function(e){var t=240,n=500,a="#4CAF50",o="#F44336";function r(e,a,o,i,r,c){var l=r||t;function u(e){var t=2*Math.PI/720;return-.5*Math.PI+e*t}e.beginPath(),e.lineWidth=c||4,e.strokeStyle=i;var s=u(a),d=u(o);e.arc(n/2,n/2,l,s,d),e.stroke()}function c(e){var t=new Date(0);return t.setUTCMilliseconds(e),60*t.getHours()+t.getMinutes()}var l=i.a.createRef();return setTimeout(function(){if(l.current&&l.current.getContext){var t=l.current.getContext("2d");l.current.width=n,l.current.height=n,function(t){var n=c(e.time);r(t,n+1,n,"#000",200,22),r(t,n-60,n-120,a,200,5),e.allocations.map(function(e){return{from:c(e.from),to:c(e.to)}}).forEach(function(e){return r(t,e.from,e.to,o,200,12)}),r(t,n-1,n+2,"#FFF",170,20),r(t,n,n+1,"#000",196,20);for(var i=0;i<24;i++)i%2?r(t,30*i,30*i+1,"#FFF",200,12):r(t,30*i,30*i+1,"#FFF",196,20)}(t)}},10),i.a.createElement("div",{className:"TimeView"},i.a.createElement("span",null,v(e.time)),i.a.createElement("canvas",{className:"TimeViewCanvas",id:"canvas",ref:l}))}),P=(n(48),n(50),function(e){return i.a.createElement("div",{className:"EquipmentBar"},e.equipment.map(function(t){return function(t){return i.a.createElement(I,{key:t.type,type:"icon",onClick:function(){return e.onChangeStatusClick(t)},iconId:"icon-".concat(t.type.toLowerCase()),btnClassName:"btn_".concat(t.status.toLowerCase())})}(t)}))}),R=(n(52),function(e){return i.a.createElement("div",{className:"Header"},i.a.createElement("div",null,i.a.createElement("h1",null,e.room.name)),i.a.createElement("div",null,(new Date).toLocaleDateString()),i.a.createElement(P,{equipment:e.equipment,onChangeStatusClick:e.onChangeStatusClick}))}),F=(n(54),n(56),function(){return i.a.createElement("div",{className:"Backdrop"})}),T=function(e){var t=["Popup"];return e.open&&t.push("open"),i.a.createElement("div",{className:t.join(" ")},i.a.createElement(F,null),i.a.createElement("div",{className:"content"},i.a.createElement(I,{type:"icon-text",onClick:e.onCloseClick,iconId:"icon-close",label:"Close"}),e.children))},M=n(1),D=Object(M.c)(["ui.time"]),B=Object(M.c)(["ui.selectedRoomId"]),H=Object(M.c)(["ui.adminPanelOpen"]),L=Object(M.c)([B,"room"],function(e,t){return t.entity[e]}),V=Object(M.c)([B,"allocation"],function(e,t){return Object.values(t.entity).filter(function(t){return t.roomId===e})}),W=Object(M.c)([D,V],function(e,t){return t.filter(function(t){return t.from<=e&&t.to>=e})}),z=Object(M.c)([D,V],function(e,t){return t.filter(function(t){return t.from>=e})}),U=Object(M.c)([z],function(e){return e.sort(function(e,t){return e.from-t.from})}),_=Object(M.c)([(x=1,Object(M.c)([U],function(e){return e.slice(0,x)}))],function(e){return e[0]}),$=(Object(M.c)([_,D],function(e,t){return e.from-t}),Object(M.c)([W],function(e){return e[0]})),J=(Object(M.c)([$],function(e){return e.to-e.from}),Object(M.c)([W,D],function(e,t){return e.to-t}),Object(M.c)([W],function(e){return e.length>0}),Object(M.c)([B,"equipment"],function(e,t){return t.entity?(Object.values(t.entity)||[]).filter(function(t){return t.roomId===e}):[]})),G=Object(M.d)({slice:"room",initialState:{entity:{},ids:[]},reducers:{addRoom:function(e,t){e.entity[t.payload.id]=t.payload,e.ids.push(t.payload.id)},changeRoomName:function(e,t){e.entity[t.payload.id]?e.entity[t.payload.id].name=t.payload.name:(e.entity[t.payload.id]=t.payload,e.ids.push(t.payload.id))}}}),K=n(8),Q=n.n(K),X=Object(M.b)("crossslice/savestate/started"),Y=Object(M.b)("crossslice/savestate/succeeded"),Z=Object(M.b)("crossslice/savestate/failed"),ee=Object(M.b)("crossslice/loadstate/started"),te=Object(M.b)("crossslice/loadstate/succeeded"),ne=Object(M.b)("crossslice/loadstate/failed"),ae=Object(M.b)("crossslice/removestate/started"),oe=Object(M.b)("crossslice/removestate/succeeded"),ie=Object(M.b)("crossslice/removestate/failed"),re=function(){return function(e,t){return e(X()),(n="state",a=t(),Q.a.setItem(n,a)).then(function(){return e(Y())},function(t){return e(Z(t))});var n,a}},ce=function(){return function(e){return e(ee()),(t="state",Q.a.getItem(t)).then(function(t){return e(te(t))},function(t){return e(ne(t))});var t}},le=function(){return function(e){return e(ae()),(t="state",Q.a.removeItem(t)).then(function(t){e(oe(t)),e(ce())},function(t){return e(ie(t))});var t}},ue=Object(M.d)({slice:"ui",initialState:{selectedRoomId:"",time:Date.now(),adminPanelOpen:!1,syncInProgress:!1,syncError:""},reducers:{setSelectedRoomId:function(e,t){return e.selectedRoomId=t.payload,e},setTime:function(e,t){return e.time=t.payload,e},showAdminPanel:function(e){return e.adminPanelOpen=!0,e},hideAdminPanel:function(e){return e.adminPanelOpen=!1,e}}}),se=n(12),de=function e(t){Object(u.a)(this,e),this.name=t,this.id=void 0,this.capacity=void 0,this.location=void 0,this.equipment=void 0,this.id=E()};!function(e){e.Projector="display",e.WhiteBoard="users",e.Skype="skype"}(O||(O={}));var me,fe=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,"This is equipment admin"),Object.values(O).map(function(t){return i.a.createElement("div",{key:t},i.a.createElement("button",{onClick:function(){return e.onEquipmentToggleClick(e.roomId,t)}},t))}))},pe=(n(62),function(e){var t=null,n=["InputElement"];switch(e.invalid&&e.shouldValidate&&e.touched&&n.push("Invalid"),e.elementType){case"input":t=i.a.createElement("input",Object.assign({className:n.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"textarea":t=i.a.createElement("textarea",Object.assign({className:n.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"select":t=i.a.createElement("select",{className:n.join(" "),value:e.value,onChange:e.changed},e.elementConfig.options.map(function(e){return i.a.createElement("option",{key:e.value,value:e.value},e.displayValue)}));break;default:t=i.a.createElement("input",Object.assign({className:n.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}))}return i.a.createElement("div",{className:"Input"},i.a.createElement("label",{className:"Label"},e.label),t)}),ve=(n(64),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={room:new de(""),orderForm:{roomName:{elementType:"input",elementConfig:{type:"text",placeholder:"Room name"},value:"",validation:{required:!0},valid:!1,touched:!1},clientID:{elementType:"input",elementConfig:{type:"text",placeholder:"Client ID"},value:"",validation:{required:!0},valid:!1,touched:!1},apiKey:{elementType:"input",elementConfig:{type:"text",placeholder:"API key"},value:"",validation:{required:!0},valid:!1,touched:!1},calendarID:{elementType:"input",elementConfig:{type:"text",placeholder:"Calendar ID"},value:"",validation:{required:!0},valid:!1,touched:!1}},formIsValid:!1},n.selectedRoom=void 0,n.roomEquipment=void 0,n.orderHandler=function(e){e.preventDefault();var t={};for(var a in n.state.orderForm)t[a]=n.state.orderForm[a].value;var o={orderData:t};console.log("[AdminPanel] order: ",o)},n.inputChangedHandler2=function(e,t){var a=y(n.state.orderForm[t],{value:e.target.value,valid:b(e.target.value,n.state.orderForm[t].validation),touched:!0}),o=y(n.state.orderForm,Object(se.a)({},t,a)),i=!0;for(var r in o)i=o[r].valid&&i;n.setState({orderForm:o,formIsValid:i})},n.selectedRoom=e.selectedRoom,n.roomEquipment=e.roomEquipment,n.selectedRoom||(n.selectedRoom=Object(p.a)({},new de("Conference Room 1"))),n.setState({room:Object(p.a)({},n.selectedRoom)}),n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"submitSettings",value:function(e){e.preventDefault(),this.props.onSettingsSaved(this.state.room)}},{key:"clearSettings",value:function(){this.props.onSettingsClear()}},{key:"inputChangedHandler",value:function(e){console.log(e);var t=Object(p.a)({},this.state);t.room&&(t.room.name=e.target.value),this.setState(t)}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.orderForm)t.push({id:n,config:this.state.orderForm[n]});var a=i.a.createElement("form",{onSubmit:this.orderHandler},t.map(function(t){return i.a.createElement(pe,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched,changed:function(n){return e.inputChangedHandler2(n,t.id)}})}),i.a.createElement("div",null,i.a.createElement(fe,{roomId:this.state.room.id,equipment:this.roomEquipment,onEquipmentToggleClick:this.props.onEquipmentToggleClick})),i.a.createElement(I,{btnType:"Success",disabled:!this.state.formIsValid},"ORDER"));return i.a.createElement("div",{className:"ContactData"},i.a.createElement("h4",null,"Enter your Contact Data"),a)}},{key:"render2",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("h3",null,"This is admin panel"),i.a.createElement("form",{onSubmit:function(t){return e.submitSettings(t)}},i.a.createElement("span",null,"General"),i.a.createElement("div",null,i.a.createElement("label",null,"Room name"),i.a.createElement("input",{type:"text",placeholder:"Room Name",value:this.state.room.name,onChange:function(t){return e.inputChangedHandler(t)}})),i.a.createElement("div",null,i.a.createElement("label",null,"API key"),i.a.createElement("input",{type:"text",placeholder:"Room Name",value:this.state.room.name,onChange:function(t){return e.inputChangedHandler(t)}})),i.a.createElement("div",null,i.a.createElement("label",null,"Client ID"),i.a.createElement("input",{type:"text",placeholder:"Client ID",value:this.state.room.name,onChange:function(t){return e.inputChangedHandler(t)}})),i.a.createElement("div",null,i.a.createElement("label",null,"Calendar ID"),i.a.createElement("input",{type:"text",placeholder:"Room Name",value:this.state.room.name,onChange:function(t){return e.inputChangedHandler(t)}})),i.a.createElement("div",null,i.a.createElement(fe,{roomId:this.state.room.id,equipment:this.roomEquipment,onEquipmentToggleClick:this.props.onEquipmentToggleClick})),i.a.createElement(I,{type:"icon-text",iconId:"icon-save",label:"Save Settings"})),i.a.createElement(I,{type:"text",label:"Clear Settings",onClick:function(){return e.clearSettings()}}))}}]),t}(o.Component)),ge=function e(t,n,a){Object(u.a)(this,e),this.roomId=t,this.type=n,this.status=a,this.id=void 0,this.id=E()};!function(e){e.Available="Available",e.NotAvailable="NotAvailable",e.Broken="Broken"}(me||(me={}));var he=Object(M.d)({slice:"equipment",initialState:{entity:{}},reducers:{addEquipment:function(e,t){e.entity[t.payload.id]=t.payload},deleteEquipment:function(e,t){delete e.entity[t.payload.id]},toggleEquipment:function(e,t){console.log("toggle equipment: ",t);var n=t.payload.roomId,a=t.payload.type,o=Object.values(e.entity).filter(function(e){return e.roomId===n&&e.type===a})[0];if(o)delete e.entity[o.id];else{var i=new ge(n,a,me.Available);e.entity[i.id]=Object(p.a)({},i)}},setStatus:function(e,t){return e.entity[t.payload.id].status=t.payload.status,e},changeStatus:function(e,t){var n=e.entity[t.payload.id],a=me.Available;switch(n.status){case me.Available:a=me.Broken;break;case me.Broken:a=me.NotAvailable;break;case me.NotAvailable:a=me.Available}return n.status=a,e}}}),ye=Object(l.b)(function(e){return{selectedRoom:L(e),roomEquipment:J(e)}},function(e){return{onSettingsSaved:function(t){e(G.actions.changeRoomName(t)),e(ue.actions.setSelectedRoomId(t.id)),e(re())},onEquipmentToggleClick:function(t,n){console.log("onEquipmentToggleClick"),e(he.actions.toggleEquipment({roomId:t,type:n}))},onSettingsClear:function(){e(le())}}})(ve),be=function(e){return e.room?(e.currentAllocation&&(t=i.a.createElement(k,Object.assign({time:e.time},e.currentAllocation))),e.nextAllocation&&(n=i.a.createElement(C,Object.assign({time:e.time},e.nextAllocation))),i.a.createElement("div",{className:"RoomView"},i.a.createElement(w,{roomStatus:e.roomStatus},i.a.createElement(R,Object.assign({time:e.time},e))),i.a.createElement("div",{className:"Content"},i.a.createElement(q,{time:e.time,allocations:e.clockAllocations}),i.a.createElement("div",{className:"Separator"}),i.a.createElement("div",{className:"RightSection"},i.a.createElement("div",{className:"Allocations"},t,n),i.a.createElement(A,{roomId:e.room.id,time:e.time,currentAllocation:e.currentAllocation,nextAllocation:e.nextAllocation,roomStatus:e.roomStatus,onFinishEarlyClick:e.onFinishEarlyClick,onExtendMeetingClick:e.onExtendMeetingClick,onConfirmMeetingClick:e.onConfirmMeetingClick,onAddMeetingClick:e.onAddMeetingClick}))),i.a.createElement(w,{roomStatus:e.roomStatus},i.a.createElement(N,{room:e.room,onAdminClicked:e.onAdminClick})),i.a.createElement(T,{open:e.adminPanelOpen,onCloseClick:e.onPopupCloseClick},i.a.createElement(ye,null)))):(console.error("[RoomView] No room provided!"),i.a.createElement(ye,null));var t,n},Ee=function e(t,n,a,o){Object(u.a)(this,e),this.title=t,this.roomId=n,this.from=a,this.to=o,this.id=void 0,this.confirmed=!1,this.by=void 0,this.attendees=void 0,this.agenda=void 0,this.extId=void 0,this.extStatus=void 0,this.id=E(),this.from=h(this.from),this.to=h(this.to)},Ce=Object(M.d)({slice:"allocation",initialState:{entity:{},ids:[]},reducers:{addAllocation:function(e,t){e.entity[t.payload.id]=t.payload,e.ids.push(t.payload.id)},deleteAllocation:function(e,t){delete e.entity[t.payload.id],e.ids=e.ids.filter(function(e){return e!==t.payload.id})},finishEarly:function(e,t){e.entity[t.payload].to=h(t.payload.time),e.entity[t.payload].confirmed=!0},extendMeeting:function(e,t){e.entity[t.payload.id].to+=t.payload.amount,e.entity[t.payload.id].confirmed=!0},confirmMeeting:function(e,t){e.entity[t.payload.id].confirmed=!0,e.entity[t.payload.id].from=h(t.payload.time)},syncExternalAllocations:function(e,t){console.log("[AllocationSlice:syncExternalAllocations] : ",t);var n=t.payload,a=Object.values(e.entity).filter(function(e){return!!e.extId&&!e.confirmed&&!n.find(function(t){return t.extId===e.extId})}),o=!0,i=!1,r=void 0;try{for(var c,l=function(){var t=c.value;delete e.entity[t.id],e.ids=e.ids.filter(function(e){return e!==t.id})},u=a[Symbol.iterator]();!(o=(c=u.next()).done);o=!0)l()}catch(g){i=!0,r=g}finally{try{o||null==u.return||u.return()}finally{if(i)throw r}}var s=!0,d=!1,m=void 0;try{for(var f,p=function(){var t=f.value,n=Object.values(e.entity).find(function(e){return e.extId===t.extId});n?"confirmed"!==t.extStatus?(delete e.entity[n.id],e.ids=e.ids.filter(function(e){return e!==n.id})):n.confirmed||(n.from=t.from,n.to=t.to,n.title=t.title):"confirmed"===t.extStatus&&(e.entity[t.id]=t,e.ids.push(t.id))},v=n[Symbol.iterator]();!(s=(f=v.next()).done);s=!0)p()}catch(g){d=!0,m=g}finally{try{s||null==v.return||v.return()}finally{if(d)throw m}}}}}),ke=Object(l.b)(function(e,t){var n,o,i,r=D(e),c=H(e),l=L(e),u=J(e),s=(n=12e4,Object(M.c)([$,_,D],function(e,t,o){return e?e.confirmed?a.occupied:a.awaiting:t&&t.from-o<n?t.confirmed?a.occupied:a.awaiting:a.free}))(e);return{currentAllocation:$(e),equipment:u,nextAllocation:_(e),room:l,roomStatus:s,time:r,adminPanelOpen:c,clockAllocations:(o=r-36e5,i=r+36e6,Object(M.c)([V],function(e){return e.filter(function(e){return e.to>o&&e.to<i})}))(e)}},function(e){return{onAdminClick:function(){e(ue.actions.showAdminPanel())},onPopupCloseClick:function(){e(ue.actions.hideAdminPanel())},onAddMeetingClick:function(t,n){e(Ce.actions.addAllocation(Object(p.a)({},new Ee("Ad hoc meeting",t,n,n+18e5),{confirmed:!0})))},onChangeStatusClick:function(t){e(he.actions.changeStatus(t)),console.log("TODO change status. Ids need to be added to equipment")},onConfirmMeetingClick:function(t){e(Ce.actions.confirmMeeting({id:t}))},onExtendMeetingClick:function(t,n,a){e(Ce.actions.extendMeeting({id:t,time:n,amount:a}))},onFinishEarlyClick:function(t,n){e(Ce.actions.finishEarly(t,n))}}})(be),xe=(n(66),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(ke,null))}}]),t}(o.Component)),Oe=(n(68),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function je(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Se=n(4),Ie=n(26),Ae=Object(Se.combineReducers)({ui:ue.reducer,room:G.reducer,allocation:Ce.reducer,equipment:he.reducer}),we=Object(Ie.a)(Ae,function(e,t){var n=Object(p.a)({},e);switch(n.ui=Object(p.a)({},n.ui),t.type){case ae.toString():return n.ui.syncInProgress=!0,n;case oe.toString():return n.ui.syncInProgress=!1,n;case ie.toString():return n.ui.syncInProgress=!1,n.ui.syncError=t.payload,n;case X.toString():return n.ui.syncInProgress=!0,n;case Y.toString():return n.ui.syncInProgress=!1,n;case Z.toString():return n.ui.syncInProgress=!1,n.ui.syncError=t.payload,n;case ee.toString():return n.ui.syncInProgress=!0,n;case te.toString():return(n=Object(p.a)({},n,t.payload)).ui.time=Date.now(),n.ui.syncInProgress=!1,n;case ne.toString():return n.ui.syncInProgress=!1,n.ui.syncError=t.payload,n;default:return e}}),Ne=Object(M.a)({reducer:we});(function(){var e=Ne.getState();console.log("[Start] startState:",e),Ne.dispatch(ce()),setInterval(function(){console.log("[Start] Interval"),Ne.dispatch(ue.actions.setTime(h(Date.now())+1)),Ne.dispatch(re())},6e4)})(),c.a.render(i.a.createElement(l.a,{store:Ne},i.a.createElement(xe,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/rosi",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/rosi","/service-worker.js");Oe?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):je(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):je(t,e)})}}()}},[[27,2,1]]]);
//# sourceMappingURL=main.b2459195.chunk.js.map